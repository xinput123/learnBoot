package com.xinput.learn.stock.batch;

/**
 * 队列溢出策略
 */
public enum OverflowStrategy {

    /**
     * 阻塞等待 - 等待队列有空位（默认推荐）
     * 适用场景：不能丢失任何请求，可以接受短暂阻塞
     */
    BLOCK,

    /**
     * 同步降级 - 直接调用单个查询方法，不走批处理
     * 适用场景：保证请求不丢失，且不希望阻塞线程
     */
    DEGRADE,

    /**
     * 快速失败 - 立即抛出异常
     * 适用场景：让上游感知到系统压力，触发限流或降级
     */
    FAIL_FAST,

    /**
     * 丢弃最旧 - 丢弃队列中最旧的请求，加入新请求
     * 适用场景：优先处理最新请求，可以容忍少量请求丢失
     * 注意：不推荐，除非业务场景明确可以丢弃
     */
    DROP_OLDEST
}
